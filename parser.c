#include "symbol_table.h"

#ifndef PARSE_TABLE_H
#define PARSE_TABLE_H
#include "parse_table.h"
#endif

#include <stdio.h>
#include <stdlib.h>

enum Token parse_table[][53] = 
{
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 1, 1, 1, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 1, 1, 184, 184, 184, 184, 184, 184, 184, 183},
{2, 184, 184, 184, 2, 184, 2, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 2, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183},
{4, 184, 184, 184, 3, 184, 3, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 3, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 183},
{183, 184, 184, 184, 5, 184, 5, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 6, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184},
{8, 7, 184, 7, 7, 184, 7, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 7, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 10, 184, 11, 9, 184, 9, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 9, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 183, 184, 183, 12, 184, 12, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 13, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 14, 14, 14, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 15, 15, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 16, 16, 16, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 183, 184, 183, 17, 184, 18, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 22, 184, 184, 184, 184, 184, 21, 184, 21, 184, 184, 24, 24, 24, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 23, 23, 184, 184, 184, 19, 184, 21, 21, 21, 20, 184},
{183, 183, 184, 183, 183, 25, 183, 184, 25, 25, 184, 184, 184, 184, 25, 184, 25, 184, 184, 184, 184, 184, 184, 26, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 27, 27, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 29, 184, 184, 184, 184, 184, 28, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 30, 30, 30, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 33, 184, 184, 31, 184, 184, 33, 32, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 35, 184, 184, 184, 184, 184, 34, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 38, 184, 184, 36, 184, 184, 38, 37, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 40, 184, 184, 39, 184, 184, 40, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 183, 184, 184, 184, 184, 184, 183, 184, 184, 184, 41, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 183, 184, 184, 184, 184, 184, 183, 184, 184, 184, 42, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{44, 184, 183, 184, 184, 184, 184, 184, 43, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 45, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 46, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 47, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 48, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 49, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 50, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 183, 51, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 52, 184, 184, 184, 184, 183, 184, 183, 184, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 55, 184, 184, 184, 183, 184, 184, 184, 184, 54, 184, 54, 184, 184, 53, 53, 53, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 56, 184, 184, 184, 184, 184, 184, 184, 184, 56, 184, 56, 184, 57, 56, 56, 56, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 59, 184, 184, 184, 58, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 183, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 60, 61, 62, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 183, 184, 184, 184, 183, 184, 184, 184, 184, 63, 184, 64, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 65, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 183, 184, 183, 183, 66, 183, 184, 67, 184, 184, 184, 184, 184, 68, 184, 66, 184, 184, 184, 184, 183, 184, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 183, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184},
{183, 183, 184, 183, 69, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 70, 184, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 183, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184},
{71, 183, 184, 183, 183, 184, 183, 184, 72, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 183, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 184, 184, 73, 184, 184, 184, 183, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 74, 183, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 183, 184, 183, 183, 76, 183, 184, 75, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 183, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184},
{183, 183, 184, 183, 77, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 77, 184, 77, 183, 77, 77, 77, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 77, 77, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184},
{183, 183, 79, 183, 183, 184, 183, 184, 78, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 183, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 80, 183, 184, 184, 183, 184, 184, 184, 184, 184, 183, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{82, 184, 82, 184, 184, 82, 184, 184, 82, 81, 184, 184, 184, 184, 82, 184, 82, 184, 184, 184, 184, 184, 184, 184, 82, 184, 184, 184, 184, 184, 82, 82, 82, 82, 82, 82, 82, 82, 82, 82, 82, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 183, 184, 184, 183, 184, 184, 183, 184, 184, 83, 184, 184, 183, 184, 183, 184, 184, 184, 184, 184, 84, 184, 183, 184, 184, 184, 184, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{85, 184, 85, 184, 184, 85, 184, 184, 85, 86, 184, 184, 184, 184, 85, 184, 85, 184, 184, 184, 184, 184, 184, 184, 85, 184, 184, 184, 184, 184, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 184, 184, 87, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 87, 184, 184, 184, 87, 87, 87, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{89, 184, 184, 184, 184, 184, 184, 184, 88, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 183, 184, 91, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 90, 184, 184, 183, 90, 90, 90, 184, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 183, 184, 184, 184, 184, 184, 183, 93, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 92, 183, 184, 184, 184, 184, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 183, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 94, 183, 184, 184, 184, 184, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 183, 184, 95, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 96, 184, 184, 184, 184, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 184, 184, 97, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 98, 98, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 183, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 99, 100, 184, 184, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 183, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 101, 184, 184, 183, 103, 103, 102, 184, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 183, 184, 183, 183, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 104, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{106, 106, 184, 106, 106, 184, 106, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 106, 105, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 183, 184, 183, 183, 184, 183, 184, 184, 184, 184, 184, 108, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 107, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 184, 184, 183, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 109, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184},
{110, 184, 184, 184, 110, 184, 110, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 110, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184},
{112, 184, 184, 184, 112, 184, 112, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 112, 111, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 112, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 184, 184, 183, 184, 183, 184, 184, 184, 184, 184, 114, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 113, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 183, 184, 115, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 115, 184, 115, 184, 115, 115, 115, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 115, 115, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 117, 184, 184, 184, 184, 184, 116, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 118, 118, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 120, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 120, 184, 120, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 119, 119, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 183, 184, 184, 121, 121, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 123, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 123, 184, 123, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 123, 123, 122, 122, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 183, 183, 183, 124, 124, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 125, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 125, 183, 126, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 183, 184, 127, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 127, 184, 127, 183, 127, 127, 127, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 127, 127, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 129, 184, 184, 184, 184, 184, 129, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 129, 184, 184, 184, 184, 184, 128, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 183, 184, 130, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 130, 184, 130, 183, 130, 130, 130, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 130, 130, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 132, 184, 184, 184, 184, 184, 132, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 132, 184, 184, 184, 184, 184, 132, 131, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 183, 184, 133, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 133, 184, 133, 183, 133, 133, 133, 184, 184, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 133, 133, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 135, 184, 184, 184, 184, 184, 135, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 135, 184, 184, 184, 184, 184, 135, 135, 134, 134, 134, 134, 134, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 183, 184, 183, 183, 183, 184, 184, 184, 184, 136, 137, 138, 139, 140, 184, 184, 184, 184, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 183, 184, 141, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 141, 184, 141, 183, 141, 141, 141, 184, 184, 183, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 141, 141, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 143, 184, 184, 184, 184, 184, 143, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 143, 184, 184, 184, 184, 184, 143, 143, 143, 143, 143, 143, 143, 142, 142, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 183, 184, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 144, 145, 184, 184, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 183, 184, 146, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 146, 184, 146, 183, 146, 146, 146, 184, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 184, 184, 146, 146, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 148, 184, 184, 184, 184, 184, 148, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 148, 184, 184, 184, 184, 184, 148, 148, 148, 148, 148, 148, 148, 148, 148, 147, 147, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 183, 184, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 149, 150, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 183, 184, 152, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 152, 184, 152, 183, 152, 152, 152, 184, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 151, 151, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 183, 184, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 153, 154, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 183, 184, 155, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 155, 184, 156, 183, 155, 155, 155, 184, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 183, 184, 157, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 158, 158, 158, 157, 184, 157, 183, 157, 157, 157, 184, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 157, 157, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 183, 184, 159, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 183, 184, 184, 184, 184, 184, 160, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 161, 184, 184, 184, 184, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{183, 183, 184, 183, 183, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 162, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184},
{183, 183, 184, 183, 163, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 164, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184},
{183, 184, 184, 184, 183, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 166, 165, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 167, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 168, 184, 168, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 168, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 183, 169, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 170, 184, 184, 184, 184, 184, 184, 184, 183, 170, 184, 170, 184, 184, 170, 170, 170, 184, 184, 184, 171, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 172, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 173, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 174, 184, 184, 184, 184, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 178, 184, 179, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 175, 176, 177, 184, 184},
{184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 180, 184},
{184, 184, 184, 184, 181, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 182, 182, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184}
};

stack initialize_stack(int size) {
  stack s;
  s.stk = (int *) malloc(size*sizeof(int));
  s.top = -1;
  s.size = size;
  return s;
}

void push(stack *s, int num) {
  if (s->top == s->size - 1) {
  	s->size = (int)(1.5*s->size + 1);
  	s->stk = (int *) realloc(s->stk, s->size*sizeof(int));
  }
  s->top++;
  s->stk[s->top] = num;
}

int pop(stack *s) {
  if (s->top == -1) {
    return -1;
  }
  s->top--;
  return s->stk[s->top + 1];
}

void print_stack(stack s) {
  printf("->");
  int i = s.top;
  while(i >= 0) {
    printf("%d    ", s.stk[i]);
    i--;
  }
  printf("\n");
}

void test_stack() {
  stack s;
  s = initialize_stack(2);
  push(&s, 1);
  push(&s, 5);
  push(&s, 2);
  push(&s, 7);
  push(&s, 10);
  print_stack(s);
  printf("Pop: %d\n", pop(&s));
  print_stack(s);
}

/*
typedef struct _parse_tree_node {
  struct _parse_tree_node *parent;
  struct _parse_tree_node *children[MAX_TOKENS];
  int num_child;
  int visited_child;
  int token_id;
} parse_tree_node;
*/
parse_tree_node *initialize_parse_tree_node(parse_tree_node *parent, int token) {
  parse_tree_node *p = (parse_tree_node *) malloc(sizeof(parse_tree_node));
  p->token_id = token;
  p->parent = parent;
  p->num_child = 0;
  p->visited_child = 0;
  int i = 0;
  for (; i<MAX_TOKENS; i++)
    p->children[i] = NULL;
  return p;
}

void print_parse_tree(parse_tree_node *node, int lv) {
  if (node == NULL)
    return;
  printf("%d -> %d\n", lv, node->token_id);
  if (node->num_child == 0) {
    return;
  }
  int i;
  for (i=0; i<node->num_child; i++) {
    print_parse_tree(node->children[i], lv+1);
  }
}

/*
Test
E -> int + E | X
X -> float * X | bool
*/
int parse_table_test[][5] = {{0, -1, 1, -1, 1}, {-1, -1, 2, -1, 3}};
int rule_test[][4] = {{2, 3, 0, -1}, {1,-1}, {4,5,1,-1}, {6,-1}};
// TODO: Make error checking proper
void parser(FILE * ip) {
  int token;
  stack s = initialize_stack(2);
  push(&s, end_marker);
  push(&s, start_state);
  parse_root = initialize_parse_tree_node(NULL, start_state);
  parse_tree_node *current = parse_root;
  int row, col;
  int top;
  int rule_no;
  int rule_token_no;
  print_stack(s);
  while(fscanf(ip,"%d",&token) != EOF) {
    top = pop(&s);

    while (!is_token(top) && !is_error(top)) {
      rule_no = parse_table_test[top][token - FIRST_TOKEN];
      printf("Rule: %d\n", rule_no);
      rule_token_no = 0;

      if (rule_no != -1) { // TODO: Change this to scan vs pop errors
        while (rule_test[rule_no][rule_token_no] != -1) { // TODO: change this to tk_null
          current->children[rule_token_no] = initialize_parse_tree_node(current, rule_test[rule_no][rule_token_no]);
          current->num_child++;
          rule_token_no++;
        }

        current = current->children[0];
        rule_token_no--;

        while (rule_token_no >= 0) {
          push(&s, rule_test[rule_no][rule_token_no]);
          rule_token_no--;
        }
      }
      else // TODO: Handle pop vs scan errors separately
        printf("Error\n");

      print_stack(s);
      //print_parse_tree(parse_root, 0);

      top = pop(&s);
    }

    if (top != token) {
      printf("Expecting ");
      print_token(token);
      printf("but found ");
      print_token(top);
      printf("\n");
    }

    while (1) {
      if (current == NULL)
        break;

      if (current->num_child == 0) {
        current = current->parent;
        continue;
      }

      current->visited_child++;

      if (current->visited_child >= current->num_child) {
        current = current->parent;
        continue;
      }

      current = current->children[current->visited_child];
      break;
    }
    print_stack(s);
  }
  int x = pop(&s);
  if (x != end_marker)
    printf("Error\n");
  printf("Parsing successful\n");
  printf("\n\nParse tree:\n");
  current = parse_root;
  printf("\n/\\\n");
  print_parse_tree(current, 0);
}

int is_token(int t) {
  return (t>=2);
}

int is_error(int t) {
  return 0;
}

int main()
{
  //printf("%d",parse_table[0][0]);
  //test_stack();
  FILE * ip = fopen("_test123","r");
  parser(ip);
  return 0;
} 